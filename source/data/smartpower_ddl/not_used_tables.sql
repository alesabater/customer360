USE smart_power
DROP TABLE IF EXISTS table_billing;
CREATE TABLE table_billing(
		BUSINESS_PARTNER_NO INT NOT NULL,
		CONTRACT_NO INT NOT NULL,
		BILLING_NO INT NOT NULL UNIQUE,
		BILLING_DATE DATE NOT NULL,
		BILLING_TYPE VARCHAR(16) NOT NULL,
		BILLING_AMOUNT DOUBLE NOT NULL,
	PRIMARY KEY(BILLING_NO)
);

DROP TABLE IF EXISTS table_contract;
CREATE TABLE table_contract(
		BUSINESS_PARTNER_NO INT NOT NULL,
		CONTRACT_NO INT NOT NULL UNIQUE,
		CONTRACT_TYPE VARCHAR(16),
		CONTRACT_START_DATE DATE NOT NULL,
		CONTRACT_END_DATE DATE NOT NULL,
		CONTRACT_EBILL_FLAG BOOLEAN,
	PRIMARY KEY(CONTRACT_NO)
);

CREATE table_discount(
		BUSINESS_PARTNER_NO INT NOT NULL,
		CONTRACT_NO INT NOT NULL,
		DISCOUNT_PACKAGE_ID INT NOT NULL UNIQUE,
		DISCOUNT_FROM_DATE DATE NOT NULL,
		DISCOUNT_TO_DATE DATE NOT NULL,
		DISCOUNT_PACKAGE_DESC VARCHAR(50) NOT NULL,
		DISCOUNT_PACKAGE_PCT DOUBLE NOT NULL,
	PRIMARY KEY(DISCOUNT_PACKAGE_ID)
)

CREATE TABLE table_payment(
		BUSINESS_PARTNER_NO VARCHAR NOT NULL,
		CONTRACT_NO INT NOT NULL,
		BILLING_NO INT NOT NULL,
		PAYMENT_NO INT NOT NULL UNIQUE,
		PAYMENT_DATE DATE NOT NULL,
		PAYMENT_AMOUNT DOUBLE NOT NULL,
		PAYMENT_TYPE VARCHAR NOT NULL,
	PRIMARY KEY(PAYMENT_NO)
)